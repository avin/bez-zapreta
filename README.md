# Bez-Zapreta

Socks5 прокси сервер, который проверяет, находится ли запрашиваемый ресурс в черных списках и только в этом случае использует обходные пути.
В случае если ресурс не заблокирован, трафик на него пойдет напрямую. Можно заходить одновременно на твиттер и госуслугами без ручного
переключения проксей/vpn. Скрипт по умолчанию использует список заблокированных ресурсов с сайта [antifilter.download](https://antifilter.download/).
При желании можно использовать любой другой.

## Установка и запуск

Установите выполнив команду (нужно предварительно поставить nodejs):

```sh
npm i -g bez-zapreta
```

Положите в домашнюю директорию файл `.bez-zapreta.js` с настройками обхода блокировки (примеры настроек см. ниже) и запускайте сервер:

```sh
bez-zapreta
```

После этого пропишите в браузере адрес socks5 прокси (по умолчанию это 127.0.0.1:1080). Наслаждайтесь!

## Примеры настроек

Для работы программы необходимо задать способ обход блокировки. Доступные способы: `socks5`; `ssh`;

### Через Socks5

```javascript
module.exports = {
  host: '127.0.0.1', // Хост для socks5 сервера
  port: 1080, // Порт для socks5 сервер
  method: 'socks5',
  socks5: {
    host: 'mysocks.com', // Тут сервер через который будем пропускать запросы на заблокированные ресурсы
    port: 1080,

    // username: 'login', // Если сервер требует авторизацию
    // password: 'password',
  },
};
```

### Через SSH

```javascript
const os = require('os');
const path = require('path');
const fs = require('fs');

module.exports = {
  port: 1080,
  method: 'ssh',
  socks5: {
    host: 'myssh.com', // Тут сервер через который будем пропускать запросы на заблокированные ресурсы
    port: 22,

    username: 'root',
    password: 'password_here',

    // privateKey: fs.readFileSync(path.resolve(os.homedir(), ".ssh", "id_rsa")),
    // passphrase: "passphrase_of_key_here",

    // ... полный список доступных настроек ssh-соединения смотрите тут:
    // https://github.com/mscdex/ssh2#client-methods (настройки `connect`)
  },
};
```

### Использование в паре с Tor

Tor клиент умеет поднимать socks5 сервер. Используйте его в настройках.

### Использование в паре с PPTP/L2TP и другими VPN-ами

Ничего не выйдет. Используйте другие способы.
